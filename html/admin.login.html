<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="../css/adminlogin.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</head>
<body>
  <div id="header-container" class="header-class">
    <div class="headerleft">
      <img src="../orcalogo.png" height="100" style="margin-left: 50px" alt="">
      <h1 id="welcome-h1">Orca Fitness</h1>
    </div>
    <div class="header-button-container">
        <button type="button" class="btn btn-danger">Member/Instructor Login</button>
        
    </div>
</div>
<main>
  <div>
      <h3>
          Admin Login
      </h3>
      <div>
          <form>
              <div class="email">
                <label for="email">Email
                    <input type="text" name="email" placeholder="Email" required />
                </label>
              </div>
              <div class="pass">
                <label for="pass">Password
                    <input type="text" name="pass" placeholder="Password" required />
                </label>
              </div>
              <button type="submit">Login</button>
          </form>
      </div>
  </div>
</main>

    
  
</body>
<script type="module">
  import XMLReq from "../js/XMLReq.js"
  let xmlReq = new XMLReq("http://localhost/finalproject/FitnessCMS-FinalProject/member.php");
  const login =(data)=>{
      let newdata = JSON.parse(data);
      console.log(newdata);

      sessionStorage.setItem("sid",newdata.sid);
      sessionStorage.setItem("uname",newdata.name);    
      location.replace("./AdminDashboard.html");
  }
  document.querySelector("form").addEventListener("submit",(e)=>{
      e.preventDefault();
      let reqData = new FormData(e.target);
      reqData.append("req","login");
      xmlReq.Post(reqData).then(
         login,
         (rej)=>console.log(rej)
      )
   })
</script>
</html>